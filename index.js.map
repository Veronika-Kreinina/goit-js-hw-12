{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const basicAPI = {\nAPI_URL: 'https://pixabay.com/api/',\nAPI_KEY:'46105893-c3619f828e66c5e4a4f6c6159'\n}\nexport function getGalleryData(queryValue) {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: queryValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${API_URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      throw error;\n    });\n}","export function addLoader(gallery) {\n  const loaderHTML = `\n    <div class=\"loader-container\">\n      <span class=\"loader-text\">Loading images, please wait...</span>\n    </div>\n  `;\n  gallery.insertAdjacentHTML('beforebegin', loaderHTML);\n}\n\nexport function removeLoader() {\n  const loader = document.querySelector('.loader-container');\n  if (loader) {\n    loader.remove();\n  }\n}\n\nexport function markup(data) {\n  return data.hits\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n            <li class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                  class=\"gallery-image\"\n                  src=\"${webformatURL}\"\n                  alt=\"${tags}\"\n                />\n              </a>\n              <ul class=\"img-wrapper\">\n                <li class=\"img-descr\">Likes<span>${likes}</span></li>\n                <li class=\"img-descr\">Views<span>${views}</span></li>\n                <li class=\"img-descr\">Comments<span>${comments}</span></li>\n                <li class=\"img-descr\">Downloads<span>${downloads}</span></li>\n              </ul>\n            </li>\n      `\n    )\n    .join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { getGalleryData } from './js/pixabay-api';\nimport { addLoader, removeLoader, markup } from './js/render-functions';\nimport { basicAPI } from \"./js/pixabay-api\";\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n\n  const formData = new FormData(event.target);\n  const { search } = Object.fromEntries(formData.entries());\n  const searchValue = search.trim();\n\n  if (!searchValue) {\n    iziToast.error({\n      title: 'Error',\n      message: 'The search query is empty.',\n      position: 'topRight',\n    });\n    return;\n  }\n\ngallery.innerHTML = '';\n  addLoader(gallery);\n\n  getGalleryData(searchValue)\n    .then(data => {\n      \n      if (data.hits.length === 0) {\n        iziToast.info({\n          position: 'topRight',\n          title: 'Info',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      const galleryMarkup = markup(data);\n      gallery.insertAdjacentHTML('beforeend', galleryMarkup);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message: `Error: ${error.message}`,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      removeLoader();\n    });\n}"],"names":["getGalleryData","queryValue","searchParams","response","error","addLoader","gallery","removeLoader","loader","markup","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","lightbox","SimpleLightbox","onSubmitForm","event","formData","search","searchValue","iziToast","galleryMarkup"],"mappings":"6vBAIO,SAASA,EAAeC,EAAY,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,QACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAG,OAAO,IAAIC,CAAY,EAAE,EACtC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,SAAUA,CAAK,EACvBA,CACZ,CAAK,CACL,CCxBO,SAASC,EAAUC,EAAS,CAMjCA,EAAQ,mBAAmB,cALR;AAAA;AAAA;AAAA;AAAA,GAKiC,CACtD,CAEO,SAASC,GAAe,CAC7B,MAAMC,EAAS,SAAS,cAAc,mBAAmB,EACrDA,GACFA,EAAO,OAAM,CAEjB,CAEO,SAASC,EAAOC,EAAM,CAC3B,OAAOA,EAAK,KACT,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,8CAEtCL,CAAa;AAAA;AAAA;AAAA,yBAGlCD,CAAY;AAAA,yBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,mDAIsBC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA,OAI3D,EACA,KAAK,EAAE,CACZ,CC9BA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CZ,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIa,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAW,IAAI,SAASD,EAAM,MAAM,EACpC,CAAE,OAAAE,CAAM,EAAK,OAAO,YAAYD,EAAS,QAAO,CAAE,EAClDE,EAAcD,EAAO,OAE3B,GAAI,CAACC,EAAa,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEHpB,EAAQ,UAAY,GAClBD,EAAUC,CAAO,EAEjBN,EAAeyB,CAAW,EACvB,KAAKf,GAAQ,CAEZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BgB,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,OACP,QAAS,0EACnB,CAAS,EACD,MACD,CAED,MAAMC,EAAgBlB,EAAOC,CAAI,EACjCJ,EAAQ,mBAAmB,YAAaqB,CAAa,EACrDR,EAAS,QAAO,CACtB,CAAK,EACA,MAAMf,GAAS,CACdsB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,UAAUtB,EAAM,OAAO,GAChC,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbG,GACN,CAAK,CACL"}